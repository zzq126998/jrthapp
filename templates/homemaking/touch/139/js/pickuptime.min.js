var pickuptime = {
	init: function(a, b) {
		this.setuptime = a;
		this.run(b)
	},
	marketgetTime: function() {
		var k = this.setuptime;
		var g = new Date();
		g.setDate(g.getDate() + k);
		var h = g.getDay();
		var l = g.getHours();
		var f = parseInt(h);
		var d = "";
		var a = ["周日", "周一", "周二", "周三", "周四", "周五", "周六"];
		var e = new Array();
		var b, j;
		
		var tDay = g.getDate();
		e.push(g.getMonth()+1 + "月" + tDay + "日");
		var tmou = g.getMonth()+1;
		e.push((tmou<10 ? '0'+tmou : tmou) + "-" + (tDay <10 ? '0'+tDay : tDay));
		for (var c = k; c < 6 + k; c++) {
			if (f == 7) {
				f = 0
			}
			if (c == 3) {
				b = g.getMonth() + 1;
				j = g.getDate();
				e.push(b + "月" + j + "日");
				e.push((b<10 ? '0'+b : b) + "-" + (j<10 ? '0'+j : j));
			} else {
				if (c == 4) {
					g.setDate(g.getDate() + 1);
					b = g.getMonth() + 1;
					j = g.getDate();
					e.push(b + "月" + j + "日");
					e.push((b<10 ? '0'+b : b) + "-" + (j<10 ? '0'+j : j));
				} else {
					if (c == 5) {
						g.setDate(g.getDate() + 1);
						b = g.getMonth() + 1;
						j = g.getDate();
						e.push(b + "月" + j + "日");
						e.push((b<10 ? '0'+b : b) + "-" + (j<10 ? '0'+j : j));
					} else {
						g.setDate(g.getDate() + 1);
						b = g.getMonth() + 1;
						j = g.getDate();
						e.push(b + "月" + j + "日");
						e.push((b<10 ? '0'+b : b) + "-" + (j<10 ? '0'+j : j));
					}
				}
			}
			f++;
			j++
		}
		e.push(l);
		return e
	},
	run: function(f) {
		var c = this.marketgetTime();console.log(c);
		var Tyear = new Date();
		var year = Tyear.getFullYear();
		//["4月12日", "04-12", "4月13日", "04-13", "4月14日", "04-14", "4月15日", "04-15", "4月15日", "04-15", "4月16日", "04-16", "4月17日", "04-17", 10]
		var e = "<div id='pickuptimeContener'><div class='pickuptime-close-empty'></div><div id='pickuptime'><div class='pickuptime-title fn-clear'><p class='pickuptime-close'>"+langData['homemaking'][3][0]+"</p><p class='pickuptime-ok'>"+langData['homemaking'][3][1]+"</p></div><div class='pickuptime-box'><b>"+langData['homemaking'][3][2]+"</b><div class='pickuptime-data active'><p data-id='"+year+'-'+c[1]+"' class='pickuptime-datap pickuptime-data-on'>"+langData['homemaking'][3][3]+"</p><p data-id='"+year+'-'+c[3]+"' class='pickuptime-datap'>"+langData['homemaking'][3][4]+"</p><p data-id='"+year+'-'+c[5]+"' class='pickuptime-datap'>"+langData['homemaking'][3][5]+"</p><p data-id='"+year+'-'+c[7]+"' class='pickuptime-datap'>" + c[6] + "</p><p class='pickuptime-datap' data-id='"+year+'-'+c[11]+"'>" + c[10] + "</p><p data-id='"+year+'-'+c[13]+"' class='pickuptime-datap'>" + c[12] + "</p></div></div><div class='pickuptime-box'><b>选择时间</b><div class='pickuptime-time'><p class='pickuptime-datap'>7:00-9:00</p><p class='pickuptime-datap'>9:00-11:00</p><p class='pickuptime-datap'>11:00-13:00</p><p class='pickuptime-datap'>13:00-15:00</p><p class='pickuptime-datap'>15:00-17:00</p><p class='pickuptime-datap'>17:00-19:00</p></div></div></div></div>";
		if ($("#pickuptimeContener").length > 0) {
			$("#pickuptimeContener").remove()
		}
		$("body").append(e);
		$(".pickuptime-close-empty,.pickuptime-close").on("click",
		function() {
			$("#pickuptimeContener").remove()
		});
		$(".pickuptime-datap").on("click",
		function() {
			var g = $(this).index();
			$(this).addClass("pickuptime-data-on").siblings().removeClass("pickuptime-data-on");
			$(this).parent().addClass('active');
		});
		$(".pickuptime-ok").on("click",
		function() {
			if(!($(".pickuptime-time").hasClass('active'))){
                alert("请选择时间");
                return false
            }else{
				var g = $(".pickuptime-data .pickuptime-data-on").text() + " " + $(".pickuptime-time .pickuptime-data-on").text();
				var id = $(".pickuptime-data .pickuptime-data-on").attr('data-id') + '|' + $(".pickuptime-time .pickuptime-data-on").text();
            }
			$(".pickuptime-close-empty").click();
			if (Object.prototype.toString.call(f) === "[object Function]") {
				f(g);
				$("#doortime").val(id);
				$("#pickuptimeContener").remove();
			} else {
				return false
			}
		})
	}
};