~function(n){var t=function(n){return"function"==typeof n?n:function(){}},o=function(n){return console&&console.log(n),n},e=function(n){return{message:n}},i=function(i,u,r){return r=t(r),u&&u.latitude&&u.longitude?void n.get(i,u).done(function(n){r(null,n)}).fail(function(){r(e("网络连接不成功"),null)}):o("默认至少有 latitude 和 longitude 两个 key")},u=function(t,e){if(!t||1!==t.nodeType)return o("container 必须是一个 HTML ELEMENT");var i,u;return e=n.extend({longitude:121.44131242594,latitude:31.204569539087},e||{}),i=new BMap.Map(t),u=new BMap.Point(e.longitude,e.latitude),i.addOverlay(new BMap.Marker(u)),i.panTo(u),i.centerAndZoom(u,18),i.addControl(new BMap.NavigationControl),i.addControl(new BMap.ScaleControl),i.addControl(new BMap.OverviewMapControl),i.addControl(new BMap.MapTypeControl),i},r=function(n,o){var i=new BMap.Geolocation;o=t(o),i.getCurrentPosition(function(n){n&&n.point?o(null,{longitude:n.point.lng,latitude:n.point.lat}):o(e("我们无法定位到您当前的地址"),null)},{enableHighAccuracy:!0})},a=function(n,t,i){var u=new BMap.Geocoder;return 3!==arguments.length?o("参数不全"):void u.getPoint(t,function(n){n?i(null,{longitude:n.lng,latitude:n.lat}):i(e("我们找不到这个地址的坐标点"),null)},"中国")},l=function(n,i,u){if(!i||!i.latitude||!i.longitude)return o("默认至少有 latitude 和 longitude 两个 key");u=t(u);var r=new BMap.Geocoder,a=new BMap.Point(i.longitude,i.latitude);r.getLocation(a,function(n){n?u(null,n.addressComponents):u(e("获取不到当前坐标点在中国的地址"),null)})};n.fn.coords=function(){var n=this[0];return C=function(){this.map=new BMap.Map},C.prototype.show=function(t){return u(n,t),this},C.prototype.get=function(n){return r(this.map,n),this},C.prototype.transform=function(n,t,o){return o?l(this.map,n,t):a(this.map,n,t),this},C.prototype.save=function(n,t,o){return i(n,t,o),this},new C}}(jQuery);;